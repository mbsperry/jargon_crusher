<script language="javascript" type="text/javascript" src="/assets/jquery.min.   js"></script>
<script language="javascript" type="text/javascript" src="/assets/jquery.jqplot.min.js"></script>
<script type="text/javascript" src="/assets/plugins/jqplot.canvasAxisLabelRenderer.min.js"></script>
<script type="text/javascript" src="/assets/plugins/jqplot.canvasTextRenderer.min.js"></script>
<link rel="stylesheet" type="text/css" href="/assets/jquery.jqplot.css" />


<h1>Jargon Source Repositories</h1>

<table>
  <tr>
    <th>Name</th>
    <th></th>
    <th></th>
    <th></th>
  </tr>

<% @sources.each do |source| %>
  <tr>
    <td><%= link_to source.name, source %></td>
  </tr>
<% end %>
</table>

<br />

<%= link_to 'New Source', new_source_path %>

<% @source_data = Array.new %>
<% @sources.each do |source| %>
  <% @source_data.push source.jargon_files.map { |x| x.jargon_score } %>
<% end %>

<p>
  <div id="chartdiv" style="height:400px;width:800px; "> </div>
  <script>
    var j_points = [];
    j_points = <%= @source_data.to_json %>;
    var plot1 = $.jqplot('chartdiv', j_points, {
      title: 'Jargon Trend: All Sources',
      axesDefaults: {
        labelRenderer: $.jqplot.CanvasAxisLabelRenderer
      },
      axes: {
        xaxis: {
          label: "Jargon Files",
          pad: 1
        },
        yaxis: {
          label: "Jargon Score"
        }
      }
    });
  </script>
</p>

